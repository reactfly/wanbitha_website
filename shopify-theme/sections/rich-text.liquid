<section class="rich-text-section section-spacing">
  <div class="container">
    <div class="rich-text-section__inner">
      {%- if section.settings.label != blank -%}
        <span class="rich-text-section__label label-tag reveal">{{ section.settings.label }}</span>
      {%- endif -%}

      <h2 class="heading-display heading-display--lg reveal stagger-1 {% if section.settings.gradient_title %}text-gradient{% endif %}">
        {{ section.settings.heading }}
      </h2>

      <div class="reveal stagger-2" style="margin: 24px auto; opacity: 0.6;">
        <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="var(--color-rose-hot)" stroke-width="1">
          <path d="M12 2L14.5 9.5L22 12L14.5 14.5L12 22L9.5 14.5L2 12L9.5 9.5L12 2Z" />
        </svg>
      </div>

      {%- if section.settings.body != blank -%}
        <div class="rich-text-section__body text-editorial reveal stagger-3">
          {{ section.settings.body }}
        </div>
      {%- endif -%}

      {%- if section.settings.button_text != blank -%}
        <div class="reveal stagger-4" style="margin-top:36px;">
          <a
            href="{{ section.settings.button_url }}"
            class="btn btn--{{ section.settings.button_style }} btn--magnetic"
          >
            {{ section.settings.button_text }}
          </a>
        </div>
      {%- endif -%}
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              entry.target.classList.add('is-visible');
              observer.unobserve(entry.target);
            }
          });
        },
        { rootMargin: '0px 0px -50px 0px', threshold: 0.1 }
      );
      document.querySelectorAll('.rich-text-section .reveal').forEach((el) => observer.observe(el));
    });
  </script>
</section>

{% schema %}
{
  "name": "Texto Rica",
  "tag": "section",
  "class": "section-rich-text",
  "settings": [
    { "type": "text", "id": "label", "label": "Etiqueta", "default": "Sobre a Artista" },
    { "type": "text", "id": "heading", "label": "Título", "default": "O Traço por Trás da Obra" },
    { "type": "checkbox", "id": "gradient_title", "label": "Título com gradiente", "default": true },
    {
      "type": "richtext",
      "id": "body",
      "label": "Conteúdo",
      "default": "<p>Wanessa Alcântara transforma emoções brutas em narrativas visuais. Com pinceladas que desafiam o convencional, suas obras são um convite ao sentir — onde cada textura guarda um segredo e cada cor revela uma história que palavras não alcançam.</p>"
    },
    { "type": "text", "id": "button_text", "label": "Texto do botão" },
    { "type": "url", "id": "button_url", "label": "Link do botão" },
    {
      "type": "select",
      "id": "button_style",
      "label": "Estilo",
      "options": [
        { "value": "primary", "label": "Primário" },
        { "value": "glass", "label": "Glass" },
        { "value": "outline", "label": "Outline" }
      ],
      "default": "glass"
    }
  ],
  "presets": [{ "name": "Texto Rica" }]
}
{% endschema %}
