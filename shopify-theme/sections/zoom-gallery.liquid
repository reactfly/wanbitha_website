<section class="zoom-gallery section-spacing" data-zoom-gallery>
  <div class="container is-fluid">
    <div class="zoom-gallery__header reveal">
      <span class="label-tag">{{ section.settings.label }}</span>
      <h2 class="heading-display heading-display--lg text-gradient" data-split-text>{{ section.settings.heading }}</h2>
    </div>

    <div class="zoom-gallery__grid">
      {%- for block in section.blocks -%}
        <div class="zoom-gallery__item zoom-gallery__item--{{ block.settings.width }}" {{ block.shopify_attributes }}>
          <div class="zoom-gallery__media-wrapper">
            {%- if block.settings.image != blank -%}
              <img
                src="{{ block.settings.image | image_url: width: 800 }}"
                alt="{{ block.settings.image.alt | default: 'Galeria WanBitha' }}"
                loading="lazy"
                width="600"
                height="800"
                class="zoom-gallery__image"
              >
            {%- else -%}
              {{ 'image' | placeholder_svg_tag: 'placeholder-svg' }}
            {%- endif -%}

            <div class="zoom-gallery__overlay">
              <span class="zoom-gallery__caption">{{ block.settings.caption }}</span>
            </div>
          </div>
        </div>
      {%- endfor -%}
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Galeria Zoom Interativo",
  "tag": "section",
  "class": "section-zoom-gallery",
  "settings": [
    { "type": "text", "id": "label", "label": "Etiqueta", "default": "Portfólio" },
    { "type": "text", "id": "heading", "label": "Título", "default": "Fragmentos do Universo" }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Imagem",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Imagem" },
        { "type": "text", "id": "caption", "label": "Legenda", "default": "Obra 01" },
        {
          "type": "select",
          "id": "width",
          "label": "Largura",
          "options": [
            { "value": "small", "label": "Pequeno (1/4)" },
            { "value": "medium", "label": "Médio (1/2)" },
            { "value": "large", "label": "Grande (2/3)" }
          ],
          "default": "medium"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Galeria Zoom Interativo",
      "blocks": [
        { "type": "image", "settings": { "width": "medium", "caption": "Deep Space" } },
        { "type": "image", "settings": { "width": "small", "caption": "Nebula" } },
        { "type": "image", "settings": { "width": "small", "caption": "Stardust" } },
        { "type": "image", "settings": { "width": "large", "caption": "Void" } },
        { "type": "image", "settings": { "width": "medium", "caption": "Horizon" } }
      ]
    }
  ]
}
{% endschema %}
